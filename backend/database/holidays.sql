-- 공휴일 테이블 생성
CREATE TABLE IF NOT EXISTS holidays (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  date TEXT NOT NULL,                    -- 공휴일 날짜 (YYYY-MM-DD)
  name TEXT NOT NULL,                    -- 공휴일 이름
  year INTEGER NOT NULL,                 -- 연도
  month INTEGER NOT NULL,                -- 월
  day INTEGER NOT NULL,                  -- 일
  is_recurring INTEGER DEFAULT 0,        -- 매년 반복 여부 (0: 아니오, 1: 예)
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- 인덱스 생성
CREATE INDEX IF NOT EXISTS idx_holidays_date ON holidays(date);
CREATE INDEX IF NOT EXISTS idx_holidays_year ON holidays(year);

-- 2024년 공휴일 데이터 삽입
INSERT INTO holidays (date, name, year, month, day, is_recurring) VALUES
('2024-01-01', '신정', 2024, 1, 1, 1),
('2024-02-09', '설날', 2024, 2, 9, 0),
('2024-02-10', '설날', 2024, 2, 10, 0),
('2024-02-11', '설날', 2024, 2, 11, 0),
('2024-03-01', '삼일절', 2024, 3, 1, 1),
('2024-04-10', '제22대 국회의원선거', 2024, 4, 10, 0),
('2024-05-05', '어린이날', 2024, 5, 5, 1),
('2024-05-15', '부처님 오신 날', 2024, 5, 15, 0),
('2024-06-06', '현충일', 2024, 6, 6, 1),
('2024-08-15', '광복절', 2024, 8, 15, 1),
('2024-09-16', '추석', 2024, 9, 16, 0),
('2024-09-17', '추석', 2024, 9, 17, 0),
('2024-09-18', '추석', 2024, 9, 18, 0),
('2024-10-03', '개천절', 2024, 10, 3, 1),
('2024-10-09', '한글날', 2024, 10, 9, 1),
('2024-12-25', '크리스마스', 2024, 12, 25, 1);

-- 2025년 공휴일 데이터 삽입
INSERT INTO holidays (date, name, year, month, day, is_recurring) VALUES
('2025-01-01', '신정', 2025, 1, 1, 1),
('2025-01-28', '설날', 2025, 1, 28, 0),
('2025-01-29', '설날', 2025, 1, 29, 0),
('2025-01-30', '설날', 2025, 1, 30, 0),
('2025-03-01', '삼일절', 2025, 3, 1, 1),
('2025-05-05', '어린이날', 2025, 5, 5, 1),
('2025-05-06', '어린이날 대체공휴일', 2025, 5, 6, 0),
('2025-05-15', '부처님 오신 날', 2025, 5, 15, 0),
('2025-06-06', '현충일', 2025, 6, 6, 1),
('2025-08-15', '광복절', 2025, 8, 15, 1),
('2025-10-03', '개천절', 2025, 10, 3, 1),
('2025-10-06', '추석', 2025, 10, 6, 0),
('2025-10-07', '추석', 2025, 10, 7, 0),
('2025-10-08', '추석', 2025, 10, 8, 0),
('2025-10-09', '한글날', 2025, 10, 9, 1),
('2025-12-25', '크리스마스', 2025, 12, 25, 1);

-- 2026년 공휴일 데이터 삽입
INSERT INTO holidays (date, name, year, month, day, is_recurring) VALUES
('2026-01-01', '신정', 2026, 1, 1, 1),
('2026-02-16', '설날', 2026, 2, 16, 0),
('2026-02-17', '설날', 2026, 2, 17, 0),
('2026-02-18', '설날', 2026, 2, 18, 0),
('2026-03-01', '삼일절', 2026, 3, 1, 1),
('2026-05-05', '어린이날', 2026, 5, 5, 1),
('2026-05-24', '부처님 오신 날', 2026, 5, 24, 0),
('2026-06-06', '현충일', 2026, 6, 6, 1),
('2026-08-15', '광복절', 2026, 8, 15, 1),
('2026-09-24', '추석', 2026, 9, 24, 0),
('2026-09-25', '추석', 2026, 9, 25, 0),
('2026-09-26', '추석', 2026, 9, 26, 0),
('2026-10-03', '개천절', 2026, 10, 3, 1),
('2026-10-09', '한글날', 2026, 10, 9, 1),
('2026-12-25', '크리스마스', 2026, 12, 25, 1);

-- 2027년 공휴일 데이터 삽입 (매년 반복되는 공휴일만)
INSERT INTO holidays (date, name, year, month, day, is_recurring) VALUES
('2027-01-01', '신정', 2027, 1, 1, 1),
('2027-03-01', '삼일절', 2027, 3, 1, 1),
('2027-05-05', '어린이날', 2027, 5, 5, 1),
('2027-06-06', '현충일', 2027, 6, 6, 1),
('2027-08-15', '광복절', 2027, 8, 15, 1),
('2027-10-03', '개천절', 2027, 10, 3, 1),
('2027-10-09', '한글날', 2027, 10, 9, 1),
('2027-12-25', '크리스마스', 2027, 12, 25, 1);

-- 2028년 공휴일 데이터 삽입 (매년 반복되는 공휴일만)
INSERT INTO holidays (date, name, year, month, day, is_recurring) VALUES
('2028-01-01', '신정', 2028, 1, 1, 1),
('2028-03-01', '삼일절', 2028, 3, 1, 1),
('2028-05-05', '어린이날', 2028, 5, 5, 1),
('2028-06-06', '현충일', 2028, 6, 6, 1),
('2028-08-15', '광복절', 2028, 8, 15, 1),
('2028-10-03', '개천절', 2028, 10, 3, 1),
('2028-10-09', '한글날', 2028, 10, 9, 1),
('2028-12-25', '크리스마스', 2028, 12, 25, 1); 